/* TextLimit jQuery Plugin v1.0 
 * Set text limits to textareas/inputs with counter
 * Licensed under the GPL license (http://www.gnu.org/licenses/gpl-3.0.txt) 
 * Copyright (C) 2010  John B. Strickler (strickjb@gmail.com - http://blog.jbstrickler.com/) -  */
(function($){$.fn.textlimit=function(d){var o={counter:null,limit:100,speed:20,animate:true};
$.extend(o,d);if(!(o.counter instanceof $)){o.counter=$(o.counter)}return this.each(function(){
var c=$(this);function updateCounter(){if(o.counter.length==0){return false}o.counter.text(o.limit-c.val().length)}
updateCounter();c.unbind('.textlimit');c.bind('keypress.textlimit',function(e){
if(c.val().length>o.limit){return false}});c.bind('keyup.textlimit, paste.textlimit',function(e){
updateCounter();if(c.val().length>o.limit){if(o.animate==true){c.val(function(i,a){
return a.substr(0,o.limit+100)});var b=setInterval(function(){if(c.val().length<=o.limit){clearInterval(b)}
else{c.val(function(i,a){return a.substr(0,a.length-1)});if(o.counter!=null){updateCounter()}}},o.speed)}
else{c.val(function(i,a){return a.substr(0,o.limit)})}}if(e.type=='paste'){setTimeout(function(){
c.trigger('keyup')},5)}})})}})(jQuery);
